# Copyright 2025 KU Leuven.
# Licensed under the Apache License, Version 2.0, see LICENSE for details.
# SPDX-License-Identifier: Apache-2.0
#
# Fanchen Kong <fanchen.kong@kuleuven.be>

# Workloads to build separate ELFs for
APPS = dummy
APPS+= xdma_1d_copy 
APPS+= double_buffer 
APPS+= gemm_merge_load_and_compute 
APPS+= gemm_seperate_load_and_compute 
APPS+= gemm_tiled 
APPS+= gemm_stacked

SUBDIRS = $(addprefix workloads/,$(APPS))

TARGET ?= all

.PHONY: all clean partial-build finalize-build $(SUBDIRS)

all partial-build finalize-build: $(SUBDIRS)

$(SUBDIRS):
	$(MAKE) -C $@ $(TARGET)

clean:
	for dir in $(SUBDIRS); do \
		$(MAKE) -C $$dir clean; \
	done